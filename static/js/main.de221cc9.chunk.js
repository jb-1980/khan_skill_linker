(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){},16:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t(3),i=t(0),o=t.n(i),l=t(7),c=t.n(l),s=t(2);function d(){var e=Object(r.a)(["\n      background: #089de3;\n      color: #fff;\n      width: 100%;\n      height: 50px;\n      line-height: 50px;\n      font-size: 30px;\n      font-family: monospace;\n      text-align: center;\n    "]);return d=function(){return e},e}var u=function(){return o.a.createElement("div",{className:Object(s.a)(d())},"Khan Skill Linker")},m=t(4),p=t(5),f=o.a.createContext({}),h={exercises:[],loading:!0,error:null},b=function(){return o.a.useContext(f)},g=function(e,n){if(0===e.exercises.length&&null===e.error){var t=localStorage.getItem("khan-academy-exercises");if(null===t){fetch("https://jgilgen.pythonanywhere.com/api/v1/topictree?kind=Exercise").then(function(e){return e.json()}).then(function(e){t=Object.values(function e(n){return Array.isArray(n)?n.reduce(function(n,t){return t.children?Object(p.a)({},n,e(t.children)):"Exercise"===t.kind?Object(p.a)({},n,Object(m.a)({},t.id,{imageUrl:t.image_url,name:t.name,title:t.title,ka_url:t.ka_url})):n},{}):n.children?e(n.children):"Exercise"===n.kind?Object(m.a)({},n.id,{imageUrl:n.image_url,name:n.name,title:n.title,ka_url:n.ka_url}):void 0}(e)),localStorage.setItem("khan-academy-exercises",JSON.stringify(t)),n({exercises:t,loading:!1,error:null})}).catch(function(e){console.error(e),n({exercises:[],loading:!1,error:"Error fetching data \ud83d\ude1e"})})}else n({exercises:JSON.parse(t),loading:!1,error:null})}},y=t(8);function v(){var e=Object(r.a)(["\n            display: block;\n            position: absolute;\n            color: ",";\n            font-size: calc("," * 0.24);\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n          "]);return v=function(){return e},e}function x(){var e=Object(r.a)(["\n          position: relative;\n          display: block;\n          height: 100%;\n          width: 100%;\n        "]);return x=function(){return e},e}function k(){var e=Object(r.a)(["\n        box-sizing: border-box;\n        height: ",";\n        width: ",";\n        overflow: hidden;\n      "]);return k=function(){return e},e}function E(){var e=Object(r.a)(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    animation-duration: 1s;\n    border-left-width: calc("," / 25);\n    border-top-width: calc("," / 25);\n    border-left-color: ",";\n    border-left-style: solid;\n    border-top-style: solid;\n    border-top-color: transparent;\n    &:nth-child(1) {\n      animation: "," 1s linear infinite;\n      transform: rotateZ(120deg) rotateX(66deg) rotateZ(0deg);\n    }\n    &:nth-child(2) {\n      animation: "," 1s linear infinite;\n      transform: rotateZ(240deg) rotateX(66deg) rotateZ(0deg);\n    }\n    &:nth-child(3) {\n      animation: "," 1s linear infinite;\n      transform: rotateZ(360deg) rotateX(66deg) rotateZ(0deg);\n    }\n  "]);return E=function(){return e},e}function O(){var e=Object(r.a)(["\n100% {\n    transform: rotateZ(360deg) rotateX(66deg) rotateZ(360deg);\n  }\n"]);return O=function(){return e},e}function j(){var e=Object(r.a)(["\n100% {\n    transform: rotateZ(240deg) rotateX(66deg) rotateZ(360deg);\n  }\n"]);return j=function(){return e},e}function w(){var e=Object(r.a)(["\n100% {\n    transform: rotateZ(120deg) rotateX(66deg) rotateZ(360deg);\n  }\n"]);return w=function(){return e},e}var _=Object(s.b)(w()),C=Object(s.b)(j()),S=Object(s.b)(O()),N=function(e){var n=e.color,t=void 0===n?"#089de3":n,r=e.size,a=void 0===r?"40px":r,i=Object(y.a)(e,["color","size"]),l=Object(s.a)(E(),a,a,t,_,C,S);return o.a.createElement("div",Object.assign({className:Object(s.a)(k(),a,a)},i),o.a.createElement("div",{className:Object(s.a)(x())},o.a.createElement("div",{className:l}),o.a.createElement("div",{className:l}),o.a.createElement("div",{className:l}),o.a.createElement("div",{className:Object(s.a)(v(),t,a)},"\u25cf")))};function I(){var e=Object(r.a)(["\n              border: none;\n              border-bottom: thick solid #089de3;\n              width: 90%;\n              height: 25px;\n              margin: 10px 0;\n            "]);return I=function(){return e},e}function A(){var e=Object(r.a)(["\n                display: inline-block;\n                background: #089de3;\n                border: none;\n                color: #fff;\n                padding: 5px 7px;\n                border-radius: 5px;\n                font-family: monospace;\n                font-size: 1em;\n              "]);return A=function(){return e},e}function T(){var e=Object(r.a)(["\n        width: 40%;\n        background: #fff;\n        padding: 10px;\n      "]);return T=function(){return e},e}function R(){var e=Object(r.a)(["\n  color: #089de3;\n  margin: 10px 0;\n  cursor: pointer;\n  font-family: monospace;\n"]);return R=function(){return e},e}var V=Object(s.a)(R()),F=function(e){var n=e.selectHandler,t=(e.selected,o.a.useState("")),r=Object(a.a)(t,2),i=r[0],l=r[1],c=b(),d=c.exercises,u=c.loading,m=c.error,p=c.refreshExercises,f=d.filter(function(e){return e.title.includes(i)}).slice(0,10).map(function(e){var t=e.name,r=e.title;return o.a.createElement("div",{key:t,className:V,onClick:function(){return n(t)}},r)});return o.a.createElement("div",{className:Object(s.a)(T())},u?o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"}},o.a.createElement("h2",{style:{margin:0}},"Retrieving skills"),o.a.createElement("h4",{style:{margin:0}},"(this could take a minute)"),o.a.createElement(N,null)):m?o.a.createElement("h2",null,m):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{fontSize:18}},o.a.createElement("h4",{style:{display:"inline-block",marginRight:20}},"Skill finder"),o.a.createElement("button",{className:Object(s.a)(A()),onClick:p},"Refresh List")),o.a.createElement("input",{onChange:function(e){return l(e.target.value)},value:i,placeholder:"Type to find a skill",type:"text",className:Object(s.a)(I())}),f))};function Z(){var e=Object(r.a)(["\n            display: inline-block;\n            margin: 0 10px;\n            position: relative;\n            padding: 0 0 5px 0;\n            cursor: pointer;\n            ",";\n          "]);return Z=function(){return e},e}function z(){var e=Object(r.a)(['\n  font-weight: bold;\n  color: #089de3;\n  &:after {\n    content: " ";\n    position: absolute;\n    width: 0;\n    height: 15px;\n    border-left: 7px solid transparent;\n    border-right: 7px solid transparent;\n    border-bottom: 7px solid #089de3;\n    left: 50%;\n    margin-left: -7px;\n    bottom: -3px;\n    display: block;\n  }\n']);return z=function(){return e},e}var H=Object(s.a)(z()),K=function(e){var n=e.tabs,t=e.activeTab,r=e.clickHandler;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{listStyle:"none",display:"flex",flexDirection:"row",width:"100%"}},n.map(function(e){return o.a.createElement("li",{key:e.id,className:Object(s.a)(Z(),t===e.id&&H),onClick:function(){return r(e.id)}},e.name)})),o.a.createElement("hr",{style:{margin:2,height:3,background:"#089de3",width:"100%"}}))};function D(){var e=Object(r.a)(["\n          transition: opacity 3s cubic-bezier(0.02, 1.24, 0.27, 0.93);\n          opacity: ",";\n        "]);return D=function(){return e},e}function G(){var e=Object(r.a)(["\n        display: inline-block;\n        background: #089de3;\n        border: none;\n        color: #fff;\n        padding: 5px 7px;\n        border-radius: 5px;\n        font-family: monospace;\n        font-size: 1em;\n        float: right;\n        margin: 7px;\n        width: 150px;\n      "]);return G=function(){return e},e}var W=function(e){var n=e.str,t=Object(i.useState)(!1),r=Object(a.a)(t,2),l=r[0],c=r[1];return Object(i.useEffect)(function(){var e=null;return l&&(e=setTimeout(function(){return c(!1)},1e3)),function(){e&&clearTimeout(e)}},[l]),o.a.createElement("button",{className:Object(s.a)(G()),onClick:function(){X(n),c(!0)}},o.a.createElement("span",{className:Object(s.a)(D(),l?.5:1)},l?"copied":"copy to clipboard"))},X=function(e){var n=document.createElement("textarea");n.value=e,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);n.select(),document.execCommand("copy"),document.body.removeChild(n),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))};function B(){var e=Object(r.a)(["\n                background: #089de3;\n                border: thin solid #089de3;\n                border-radius: 5px;\n                padding: 5px 9px;\n                margin: 0 3px;\n                color: #fff;\n              "]);return B=function(){return e},e}function J(){var e=Object(r.a)(["\n        width: 60%;\n        text-align: left;\n        padding: 10px;\n      "]);return J=function(){return e},e}var U="https://www.khanacademy.org/embed_video?v=",L=function(e){return'\n<div>\n  <iframe\n    id="kaskill-ka-player"\n    style="width:853px;height:480px;border:none;background-color:ghostwhite;margin:auto;"\n    scrolling="no"\n    src="http://www.khanacademy.org/embed_video?v='.concat(e[0],'"\n  ></iframe>\n</div>\n<div>\n').concat(e.map(function(e,n){return function(e,n){return"\n  <button\n    onclick=\"changeVideo('".concat(U+n,'\')"\n    style="\n      background: #089de3;\n      border: thin solid #089de3;\n      border-radius: 5px;\n      padding: 5px 9px;\n      margin: 0 3px;\n      color: #fff;\n    "\n  >\n    Video ').concat(e,"\n  </button>\n")}(n+1,e)}).join(""),'\n</div>\n<script type="text/javascript">\n function changeVideo(url){\n     document.getElementById("kaskill-ka-player").src = url;\n }\n<\/script>')},P=function(e,n){switch(n.type){case"FETCHING_VIDEO_BEGIN":return{videos:[],loading:!0,error:!1};case"FETCHING_VIDEO_SUCCESS":return{videos:n.videos,loading:!1,error:!1};case"FETCHING_VIDEO_ERROR":return{videos:[],loading:!1,error:!0};default:throw new Error("".concat(n.type," is an unhandled type in the code container reducer"))}},q=function(e){var n=e.exercise,t=o.a.useReducer(P,{videos:[],loading:!0,error:!1}),r=Object(a.a)(t,2),i=r[0],l=i.videos,c=i.loading,d=i.error,u=r[1],m=o.a.useState("code"),p=Object(a.a)(m,2),f=p[0],h=p[1],g=b().exercises;o.a.useEffect(function(){var e=!0;return e&&(u({type:"FETCHING_VIDEO_BEGIN"}),fetch("https://jgilgen.pythonanywhere.com/api/v1/exercises/".concat(n,"/videos")).then(function(e){return e.json()}).then(function(e){return u({type:"FETCHING_VIDEO_SUCCESS",videos:e.map(function(e){return e.youtube_id})})}).catch(function(e){console.error(e),u({type:"FETCHING_VIDEO_ERROR"})})),function(){e=!1}},[n]);var y=o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"}},o.a.createElement("h2",{style:{margin:0}},"Retrieving Skill Videos"),o.a.createElement(N,null)),v=g.find(function(e){return e.name===n});return o.a.createElement("div",{className:Object(s.a)(J())},v?c?y:d?o.a.createElement("h3",null,"Failed to fetch videos."):o.a.createElement(o.a.Fragment,null,o.a.createElement(K,{tabs:[{id:"code",name:"Code"},{id:"rendered",name:"Rendered Code"}],activeTab:f,clickHandler:h}),"code"===f?o.a.createElement(M,{skill:v,videos:l}):o.a.createElement(Q,{skill:v,videos:l})):o.a.createElement("h1",null,"Please select a skill"))},M=function(e){var n=function(e,n){var t=e.image_url?n.length>0?"<p>\n  These videos will prepare you to solve problems similar\n  to the one displayed above. When you are ready, please click\n  the button below to practice this skill on Khan Academy.\n</p>":"<p>\n  When you are ready, please click the button below to practice this\n  skill on Khan Academy.\n</p>":n.length>0?"<p>\n  These videos will prepare you to successfully complete this skill on\n  Khan Academy. When you are ready, please click the button below to\n  practice this skill on Khan Academy.\n</p>":"<p>\n        When you are ready, please click the button below to practice this\n        skill on Khan Academy.\n      </p>";return'<div style="font-family: Verdana">\n  <h2>'.concat(e.title,"</h2>\n  ").concat(e.image_url?'<div style="text-align: center;">\n    <img src="'.concat(e.image_url,'" alt="').concat(e.display_name+" image",'"/>\n  </div>'):"","\n  ").concat(t,"\n  ").concat(n.length>0?L(n):"",'\n  <div style="margin: auto;text-align:center;">\n    <a\n      href="').concat(e.ka_url,'"\n      target="_blank"\n      rel="noopener noreferrer"\n      style="color: white;\n        font-family: Verdana;\n        display: inline-block;\n        margin: auto;\n        width: 250px;\n        height: 50px;\n        line-height: 50px;\n        font-size: 16px;\n        background-color: rgb(8, 157, 227);\n        text-align: center;\n        border-radius: 8px;\n        border: thin solid white;\n        box-shadow: rgb(0, 0, 0) 0px 0px 3px;\n        cursor: pointer;\n        text-decoration: none;"\n    >\n      Take me to practice this skill\n    </a>\n  </div>\n</div>')}(e.skill,e.videos);return o.a.createElement(o.a.Fragment,null,o.a.createElement(W,{str:n}),o.a.createElement("pre",{style:{fontFamily:"monospace"}},n))},Q=function(e){var n=e.skill,t=e.videos,r=Object(i.useState)(t[0]),l=Object(a.a)(r,2),c=l[0],d=l[1],u=n.image_url?t.length>0?o.a.createElement("p",null,"These videos will prepare you to solve problems similar to the one displayed above. When you are ready, please click the button below to practice this skill on Khan Academy."):o.a.createElement("p",null,"When you are ready, please click the button below to practice this skill on Khan Academy."):t.length>0?o.a.createElement("p",null,"These videos will prepare you to successfully complete this skill on Khan Academy. When you are ready, please click the button below to practice this skill on Khan Academy."):o.a.createElement("p",null,"When you are ready, please click the button below to practice this skill on Khan Academy.");return o.a.createElement("div",{style:{fontFamily:"Verdana"}},o.a.createElement("h2",null,n.title),n.image_url&&o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("img",{src:n.image_url,alt:n.display_name})),u,o.a.createElement("div",null,o.a.createElement("iframe",{id:"kaskill-ka-player",title:"kaskill-ka-player",style:{width:"853px",height:"480px",border:"none",backgroundColor:"ghostwhite",margin:"auto"},scrolling:"no",src:U+c})),o.a.createElement("div",null,o.a.createElement("div",null,t.map(function(e,n){return o.a.createElement("button",{key:e,onClick:function(){return d(e)},className:Object(s.a)(B())},"Video ",n+1)})),o.a.createElement("div",{style:{margin:"auto",textAlign:"center"}},o.a.createElement("a",{href:"https://www.khanacademy.org/exercise/multiplying_decimals",target:"_blank",rel:"noopener noreferrer",style:{color:"white",fontFamily:"Verdana",display:"inline-block",margin:"auto",width:250,height:50,lineHeight:"50px",fontSize:16,backgroundColor:"#089de3",textAlign:"center",borderRadius:8,border:"thin solid white",boxShadow:"0px 0px 3px #000",cursor:"pointer",textDecoration:"none"}},"Take me to practice this skill"))))};t(15);function Y(){var e=Object(r.a)(["\n          display: flex;\n          min-height: calc(100vh - 50px);\n          background: #eee;\n          text-align: left;\n        "]);return Y=function(){return e},e}var $=document.getElementById("root");c.a.render(o.a.createElement(function(e){var n=e.children,t=o.a.useState(h),r=Object(a.a)(t,2),i=r[0],l=r[1];return o.a.useEffect(function(){return g(i,l)},[i]),o.a.createElement(f.Provider,{value:Object(p.a)({},i,{refreshExercises:function(){localStorage.removeItem("khan-academy-exercises"),l(h)}})},n)},null,o.a.createElement(function(){var e=o.a.useState(null),n=Object(a.a)(e,2),t=n[0],r=n[1];return o.a.createElement("div",null,o.a.createElement(u,null),o.a.createElement("div",{className:Object(s.a)(Y())},o.a.createElement(F,{selectHandler:r,selected:t}),o.a.createElement(q,{exercise:t})))},null)),$)},9:function(e,n,t){e.exports=t(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.de221cc9.chunk.js.map